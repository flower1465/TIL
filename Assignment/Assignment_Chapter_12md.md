# Chapter 12

1. 함수

   함수 - 어떤 작업을 수행하기 위해 필요한 문들의 집합을 정의한 코드 블록

   함수는 이름과 매개변수를 가지고 있우며 필요한 때에 호출하여서 함수를 사용할 수 있다.

   함수의 일반적 기능은 코드의 재사용에 목적이 있다. 이런 일반적 기능 이외에 객체 생성, 객체의 행위 정의(메소드), 정보 은닉, 클로저, 모듈화 등의 기능을 수행할 수 있다.

   js의 함수는 객체이다. 다른 객체와 구분될 수 있는 특징은 호출할 수 있다는 것이다. 함수도 객체이므로 다른 값들처럼 사용할 수 있다. 즉, 변수나 객체, 배열등에 저장할 수 있고 다른 함수에 전달되는 인수로도 사용할 수 있으며 함수의 반환값이 될 수도 있다.

   ​	함수를 정의하는 방식은 3가지가 있다.

   - 함수 선언문

     ex) function square(number) {

     ​		return number * number;

     }

     함수 선언문 방식으로 정의한 함수는 function 키워드와 아래의 내용으로 구성된다.

     함수명 - 매개변수 목록 - 함수 몸체

     함수명 - 함수 선언문의 경우, 함수명은 생략할 수 없다. JS 디버거가 해당 함수를 구분할 수 있는 식별자이다.

     매개변수 목록 - 0개 이상의 목록으로 괄호로 감싸고 콤마로 분리한다. 다른 언어와의 차이점은 매개변수의 타입을 기술하지 않는다는 것이다. 이 때문에 함수 몸체 내에서 매개변수의 타입 체크가 필요할 수 있다.

     함수 몸체 - 함수가 호출되었을 때 실행되는 문들의 집합이다. 중괄호{}로 문들을 감싸고 return 문으로 결과값을 반환할 수 있다. 이를 반환값이라 한다.

   - 함수 표현식

     ex)  var square = function(number) {

     ​		return number * number;

     }

     함수 표현식 - 함수의 일급객체 특성을 이용하여 함수 리터럴 방식으로 함수를 정의하고 변수에 할당하는 방식

     함수 표현식 방식으로 정의한 함수는 함수명을 생략할 수 있다. 이러한 함수를 익명 함수라 한다. 함수 표현식에서는 함수명을 생략하는 것이 일반적이다.

     기명 함수 표현식 - var foo = function multiply(a, b)

     익명 함수 표현식 - var bar = function(a, b)

     함수는 일급객체이기 때문에 변수에 할당할 수 있는데 이 변수는 함수명이 아니라 할당된 함수를 가리키는 참조값을 저장하게 도니다. 함수 로출시 함수명이 아니라 함수를 가리키는 변수명을 사용하여야 한다.

     함수가 할당된 변수를 사용해 함수를 호출하지 않고 기명 함수의 함수명을 사용해 호출하게 되면 에러가 발생한다. 이는 함수 표현식에서 사용한 함수명은 외부 코드에서 접근 불가능하기 때문이다. (사실 함수 선언문의 경우도 마찬가지이다.)

     함수 선언문도 함수 표현식과 동일하게 함수 리터럴 방식으로 정의되는 것이다.

     JS의 함수는 일급 객체이므로 아래와 같은 특징이 있다.

     1. 무명의 리터럴도 표현이 가능하다.
     2. 변수가 자료 구조(객체, 배열...)에 저장할 수 있다.
     3. 함수의 파라미터로 전달할 수 있다.
     4. 반환값으로 사용할 수 있다.

   - Function 생성자 함수

     함수 선언문과 함수 표현식은 모두 함수 리터럴 방식으로 함수를 정의하는데 이것은 결국 내장 함수 Function 생성자 함수로 함수를 생성하는 것을 단순화 시킨 short-hnad(축약법)이다.

     Function 생성자 함수는 Function.prototype.constructor 프로퍼티로 접근할 수 있다.

     ex) new Function(arg1, arg2, ... argn, functionBody)

     ​	  var square = new Function('number', 'return number * number');

     console.log(square(10)); //100

     Function 생성자 함수로 함수를 생성하는 방식은 일반적으로 사용하지 않는다.

2. 함수 호이스팅

   함수 선언문의 경우, 함수 선언의 위치와는 상관없이 코드 내 어느 곳에서든지 호출이 가능한데 이것을 함수 호이스팅이라 한다. 자바스크립트는 ES6의 let, const를 포함하여 모든 선언(var, let, const, function, function\*, class)을 호이스팅(Hoisting)한다.

   **호이스팅이란 var 선언문이나 function 선언문 등 모든 선언문이 해당 Scope의 선두로 옮겨진 것처럼 동작하는 특성을 말한다. 즉 JS는 모든 선언문이 선언되기 이전에 참조 가능하다.**

   함수 선언문으로 정의된 함수는 자바스크립트 엔진이 스크립트가 로딩되는 시점에 바로 초기화하고 이를 VO(variable object)에 저장한다. 즉, **함수 선언, 초기화, 할당이 한번에 이루어진다.** 그렇기 때문에 함수 선언의 위치와는 상관없이 소스 내 어느 곳에서든지 호출이 가능하다.

   함수 선언문과 달리 함수 표현식의 경우 **함수 호이스팅이 아닌 변수 호이스팅이 발생한다.** (변수 호이스팅은 변수 생성 및 초기화와 할당이 분리되어 진행된다. 호이스팅된 변수는 undefined로 초기화 되고 실제값의 할당은 할당문에서 이루어진다.)

   함수 표현식은 함수 선언문과는 달리 스크립트 로딩 시점에 변수 객체(VO)에 함수를 할당하지 않고 runtime에 해석되고 실행되므로 이 두가지를 구분하는 것은 중요하다.

   함수 표현식을 사용하는 것을 권고한다. 함수 선언문으로 함수를 정의하면 사용하기에 쉽지만 여러 문제가 있다.

3. First-class object (일급 객체)

   일급 객체 - 생성, 대입, 연산, 인자 또는 반환값으로서의 전달 등 프로그래밍 언어의 기본적 조작을 제한없이 사용할 수 있는 대상을 의미한다.

   다음 조건을 만족하면 일급 객체로 간주한다. 

   1. 무명의 리터럴로 표현이 가능하다.
   2. 변수나 자료 구조(객체, 배열 등)에 저장할 수 있다.
   3. 함수의 매개변수에 전달할 수 있다.
   4. 반환값으로 사용할 수 있다.

   jS의 함수는 위의 조건을 모두 만족하므로 일급객체이다. 따라서 JS의 함수는 흡사 변수와 같이 사용할 수 있으며 코드의 어디에서든지 정의할 수 있다.

   **함수와 객체를 구분짓는 특징은 호출할 수 있다는 것이다.**

4. 매개 변수 (Parameter, 인자)

   함수의 작업 실행을 위해 추가적인 정보가 필요한 경우, 매개변수를 지정한다. 매개변수는 함수 내에서 변수와 동일하게 동작한다.

   4.1 매개변수(parameter, 인자) vs 인수(argument)

   매개변수는 함수 내에서 변수와 동일하게 메모리 공간을 확보하며 함수에 전달한 인수는 매개변수에 할당된다. 만약 인수를 전달하지 않으면 매개변수는 undefined로 초기화된다.

   ex) var foo = function (p1, p2) {

   ​		console.log(p1, p2);

   } 

   foo(1); // 1 undefined

   4.2 Call-by-value

   원시 타입 인수는 Call-by-value(값에 의한 호출)로 동작한다. 이는 함수 호출 시 원시 타입 인수를 함수에 매개변수로 전달할 때 매개변수에 값을 복사하여 함수로 전달하는 방식이다. 이때 함수 내에서 매개변수를 통해 값이 변경되어도 전달이 완료된 원시 타입 값은 변경되지 않는다.

   ex) function foo)primitive) {

   ​	primitive += 1;

   ​	return primitive;

   }

   console.log(foo(x)); // 1

   console.log(x); // 0

   4.3 Call-by-reference

   객체형(참조형) 인수는 Call-by-reference(참조에 의한 호출)로 동작한다. 이는 함수 호출 시 참조 타입 인수를 함수에 매개변수로 전달할 때 매개변수에 값이 복사되지 않고 객체의 참조값이 매개변수에 저장되어 함수로 전달되는 방식이다. 이때 함수 내에서 매개변수의 참조값이 이용하여 객체의 값을 변경했을 때 전달되어진 참조형의 인수값도 같이 변경된다.

5. 

6. 

7. 

8. 

9. 

10. 